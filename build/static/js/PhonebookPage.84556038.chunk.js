(this["webpackJsonpgoit-react-hw-07-hooks-phonebook"]=this["webpackJsonpgoit-react-hw-07-hooks-phonebook"]||[]).push([[3],{266:function(e,n,t){"use strict";t.r(n);var a={};t.r(a),t.d(a,"getContacts",(function(){return C})),t.d(a,"getFilter",(function(){return v})),t.d(a,"getStatusLoading",(function(){return k})),t.d(a,"getFilteredContacts",(function(){return y}));var o,r,c,i,s,l,d,b,u,j,p,x,h=t(14),f=t(26),O=t(0),m=t(31),g=t(67),C=function(e){return e.contacts.items},v=function(e){return e.contacts.filter},k=function(e){return e.loading},y=Object(g.a)([C,v],(function(e,n){var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)})).sort((function(e,n){return e.name.toLowerCase()>n.name.toLowerCase()?1:-1}))})),w=t(20),A=t(40),S=t(271),F=A.a.form(o||(o=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]))),L=Object(A.a)(S.a)(r||(r=Object(w.a)(["\n  display: flex;\n  margin: 10px auto 0 auto;\n  border-radius: 10px;\n  font-size: 12px;\n  background-color: #528ffe;\n  color: #fff;\n\n  :hover {\n    transform: scale(1.1);\n    background-color: #528ffe;\n  }\n"]))),P=t(228),z=t(221),I=t.n(z),Z=t(227),q=t.n(Z),D=t(2),E=function(e){var n=e.handleFormClose,t=e.someProps;console.log("someProps",t);var o=Object(f.c)(a.getContacts),r=Object(f.b)(),c=Object(O.useState)(""),i=Object(h.a)(c,2),s=i[0],l=i[1],d=Object(O.useState)(""),b=Object(h.a)(d,2),u=b[0],j=b[1];return Object(D.jsxs)(F,{onSubmit:function(e){if(e.preventDefault(),u){var t={name:s,number:u};o.find((function(e){return e.name===t.name}))?alert("".concat(t.name," is already in contacts")):(r(m.addContact(t)),n(),l(""),j(""))}else alert("enter the phone number")},children:[Object(D.jsx)(P.a,{id:"name",name:"name",label:"Name",type:"text",InputLabelProps:{shrink:!0},variant:"outlined",margin:"normal",value:s,onChange:function(e){return l(e.target.value)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only consist of letters, apostrophe, dash and spaces.",required:!0,autoComplete:"off"}),Object(D.jsx)(I.a,{id:"phone",name:"number",label:"Phone number",type:"tel",InputLabelProps:{shrink:!0},defaultCountry:"ua",preferredCountries:["ua","ru"],variant:"outlined",margin:"normal",value:u,onChange:function(e){return j(e)},pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"off"}),Object(D.jsx)(L,{variant:"outlined",endIcon:Object(D.jsx)(q.a,{}),type:"submit",children:"Add contact"})]})},M=A.a.form(c||(c=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]))),N=Object(A.a)(S.a)(i||(i=Object(w.a)(["\n  display: flex;\n  margin: 10px auto 0 auto;\n  border-radius: 10px;\n  font-size: 12px;\n  background-color: #528ffe;\n  color: #fff;\n\n  :hover {\n    transform: scale(1.1);\n    background-color: #528ffe;\n  }\n"]))),T=t(239),J=t.n(T),$=function(e){var n=e.choosedContact,t=e.handleFormClose,a=Object(f.b)(),o=Object(O.useState)(n.name),r=Object(h.a)(o,2),c=r[0],i=r[1],s=Object(O.useState)(n.number),l=Object(h.a)(s,2),d=l[0],b=l[1];return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(M,{onSubmit:function(e){if(e.preventDefault(),"+"!==d){var o={id:n.id,name:c,number:d};console.log(o),a(m.changeContact(o)),t(),i(""),b("")}else alert("enter the phone number")},children:[Object(D.jsx)(P.a,{id:"name",name:"name",label:"Name",type:"text",InputLabelProps:{shrink:!0},variant:"outlined",margin:"normal",value:c,onChange:function(e){return i(e.target.value)},pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"The name can only consist of letters, apostrophe, dash and spaces.",required:!0,autoComplete:"off"}),Object(D.jsx)(I.a,{id:"phone",name:"number",label:"Phone number",type:"tel",InputLabelProps:{shrink:!0},defaultCountry:"ua",preferredCountries:["ua","ru"],variant:"outlined",margin:"normal",value:d,onChange:function(e){return b(e)},pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"off"}),Object(D.jsx)(N,{variant:"outlined",endIcon:Object(D.jsx)(J.a,{}),type:"submit",children:"Save"})]})})},B=t(68),H=t(198),R=t(201),V=t(173),G=Object(A.a)(V.a)(s||(s=Object(w.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  background-color: transparent;\n"]))),K=A.a.div(l||(l=Object(w.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  min-width: 290px;\n  max-width: 400px;\n  margin-left: auto;\n  margin-right: auto;\n\n  border: 2px solid #022d5e;\n  border-radius: 15px;\n  background-color: #aacdf4;\n  padding: 35px 10px 10px 10px;\n  box-shadow: 0px 0px 15px 15px rgba(255, 255, 255, 0.2);\n"]))),Q=t(240),U=t.n(Q),W=["modalOpen","modalClose","children"],X=function(e){var n=e.modalOpen,t=e.modalClose,a=e.children;Object(B.a)(e,W);return Object(D.jsx)(H.a,{open:n,onClose:t,children:Object(D.jsxs)(K,{children:[Object(D.jsx)(G,{onClick:function(){return t()},children:Object(D.jsx)(U.a,{})}),Object(D.jsx)(R.a,{children:a})]})})},Y=t(105),_=t(224),ee=t(241),ne=t.n(ee),te=t(272),ae=Object(A.a)(te.a)(d||(d=Object(w.a)(["\n  width: 250px;\n  height: 40px;\n  margin: 0 auto;\n  display: flex;\n"]))),oe=function(){var e=Object(f.c)(a.getFilter),n=Object(f.b)();return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(ae,{placeholder:"Find contact by name",id:"filter",name:"filter",type:"text",variant:"outlined",margin:"normal",value:e,onChange:function(e){return n(Object(Y.a)(e.target.value))},autoComplete:"off",endAdornment:Object(D.jsx)(_.a,{position:"end",disabled:!0,children:Object(D.jsx)(V.a,{disabled:!0,edge:"end",children:Object(D.jsx)(ne.a,{})})})})})},re=t(267),ce=t(263),ie=t(226),se=t(172),le=t(229),de=t(252),be=t(243),ue=t.n(be),je=t(244),pe=t.n(je),xe=t(245),he=t.n(xe),fe=t(204),Oe=Object(A.a)(fe.a)(b||(b=Object(w.a)(["\n  width: 97%;\n  max-width: 700px;\n  margin: 10px auto 0px auto;\n  padding: 0;\n  border: 1px solid #3d93f4;\n  border-radius: 5px;\n  //display: flex;\n  // justify-content: space-between;\n"]))),me=Object(A.a)(V.a)(u||(u=Object(w.a)(["\n  position: relative;\n  padding: 0px;\n  left: 5px;\n"]))),ge=t(242),Ce=t.n(ge),ve=function(e){var n=e.setChangeContactModal,t=e.setChoosedContact,o=e.choosedContact,r=Object(O.useState)(null),c=Object(h.a)(r,2),i=c[0],s=c[1],l=Object(O.useState)(null),d=Object(h.a)(l,2),b=d[0],u=d[1],j=Object(f.b)(),p=Object(f.c)(a.getFilteredContacts);Object(O.useEffect)((function(){j(m.fetchContacts())}),[j]);var x=function(){s(null)};return Object(D.jsx)(Oe,{children:p.map((function(e){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(re.a,{sx:{padding:"5px"},secondaryAction:Object(D.jsx)(me,{edge:"end",onClick:function(n){s(n.currentTarget),u(e),t(e)},children:Object(D.jsx)(Ce.a,{})},e.id),children:[Object(D.jsx)(ce.a,{primary:e.name},e.name),Object(D.jsx)(ce.a,{primary:e.number,sx:{textAlign:"end",paddingRight:"20px"}},e.number)]},e.id),Object(D.jsx)(ie.a,{}),Object(D.jsxs)(se.a,{id:"basic-menu",anchorEl:i,open:Boolean(i),onClose:x,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(D.jsxs)(le.a,{onClick:x,children:[Object(D.jsxs)(de.a,{href:"tel:".concat(null===o||void 0===o?void 0:o.number),underline:"none",color:"#489355",children:[Object(D.jsx)(ue.a,{}),"Call"]}),Object(D.jsx)(ie.a,{})]}),Object(D.jsxs)(le.a,{sx:{color:"#CACA53"},onClick:function(){x(),n(!0)},children:[Object(D.jsx)(pe.a,{}),"Change"]}),Object(D.jsxs)(le.a,{sx:{color:"#CA5353"},onClick:function(){x(),console.log("id of deleting contact",e.id),j(m.deleteContact(b.id))},children:[Object(D.jsx)(he.a,{}),"Delete"]})]})]})}))})},ke=t(251),ye=A.a.div(j||(j=Object(w.a)(["\n  padding: 15px 0;\n\n  h2 {\n    text-align: center;\n    margin-bottom: 10px;\n  }\n  h3 {\n    text-align: center;\n  }\n"]))),we=Object(A.a)(S.a)(p||(p=Object(w.a)(["\n  display: flex;\n  margin: 0 auto 20px auto;\n  border-radius: 10px;\n  font-size: 12px;\n  background-color: #528ffe;\n  color: #fff;\n\n  :hover {\n    transform: scale(1.1);\n    background-color: #528ffe;\n  }\n"]))),Ae=Object(A.a)(ke.a)(x||(x=Object(w.a)(["\n  text-align: center;\n  margin: 20px auto;\n  padding: 10px;\n  // border: 1px solid red;\n  width: 250px;\n  // border: 2px solid #022d5e;\n  border-radius: 15px;\n  // background-color: #aacdf4;\n  padding: 10px 10px 10px 10px;\n  box-shadow: 0px 0px 15px 15px rgba(255, 255, 255, 0.2);\n"]))),Se=t(264),Fe=t(265),Le=t(276),Pe=t(246),ze=t.n(Pe);function Ie(e){var n=e.children,t=e.window,a=Object(Se.a)({target:t?t():void 0,disableHysteresis:!0,threshold:100});return Object(D.jsx)(Fe.a,{in:a,children:Object(D.jsx)(R.a,{onClick:function(e){var n=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");n&&n.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",sx:{position:"fixed",bottom:16,right:16},children:n})})}n.default=function(){var e=Object(O.useState)(!1),n=Object(h.a)(e,2),t=n[0],a=n[1],o=Object(O.useState)(!1),r=Object(h.a)(o,2),c=r[0],i=r[1],s=Object(O.useState)(null),l=Object(h.a)(s,2),d=l[0],b=l[1],u=Object(f.b)(),j=Object(f.c)(C),p=Object(f.c)(k),x=Object(f.c)(y),g=function(){a(!1),i(!1)};return Object(O.useEffect)((function(){u(m.fetchContacts())}),[u]),Object(D.jsxs)(ye,{children:[Object(D.jsx)(we,{variant:"outlined",endIcon:Object(D.jsx)(q.a,{}),onClick:function(){return a(!0)},id:"back-to-top-anchor",children:"Add new contact"}),p&&Object(D.jsx)("p",{children:"Loading phonebook..."}),j.length>1&&Object(D.jsx)(oe,{}),x.length>0?Object(D.jsx)(ve,{setChangeContactModal:i,setChoosedContact:b,choosedContact:d}):Object(D.jsx)(Ae,{children:"No one contacts found"}),Object(D.jsx)(X,{modalOpen:t,modalClose:g,children:Object(D.jsx)(E,{handleFormClose:g})}),Object(D.jsx)(X,{modalOpen:c,modalClose:g,children:Object(D.jsx)($,{handleFormClose:g,choosedContact:d})}),Object(D.jsx)(Ie,{children:Object(D.jsx)(Le.a,{color:"primary",size:"small","aria-label":"scroll back to top",children:Object(D.jsx)(ze.a,{})})})]})}}}]);
//# sourceMappingURL=PhonebookPage.84556038.chunk.js.map